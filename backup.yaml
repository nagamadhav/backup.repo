---
- name: Download Files from MinIO
  hosts: 10.10.5.76
  gather_facts: no
  tasks:
    - name: Ensure local directory exists
      file:
        path: "/path/to/local/storage"
        state: directory
      tags:
        - always

    - name: Download files from MinIO
      command: "mc cp minio/your_bucket/remote_file.txt /path/to/local/storage/"
      environment:
        MC_HOST: "https://10.10.5.76:9001/browser/security/U1FMaXRlLw=="
        MC_ALIAS: "minio"
        MC_ACCESS_KEY: "your_minio_access_key"
        MC_SECRET_KEY: "your_minio_secret_key"
      tags:
        - download
